#include <stdio.h>
#include <sys/stat.h>

int main()
{
    struct stat s;
    stat("sample.txt",&s);

    printf("Owner : ");
    printf((s.st_mode & S_IRUSR)?"r":"-");
    printf((s.st_mode & S_IWUSR)?"w":"-");
    printf((s.st_mode & S_IXUSR)?"x":"-");

    printf("\nGroup : ");
    printf((s.st_mode & S_IRGRP)?"r":"-");
    printf((s.st_mode & S_IWGRP)?"w":"-");
    printf((s.st_mode & S_IXGRP)?"x":"-");

    printf("\nOthers: ");
    printf((s.st_mode & S_IROTH)?"r":"-");
    printf((s.st_mode & S_IWOTH)?"w":"-");
    printf((s.st_mode & S_IXOTH)?"x":"-");

    printf("\n");
}
